<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="board.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>
    <script src="board.js"></script>
    <title>글쓰기</title>
</head>
<body>
    <div id="app">
        <div class="mb-3">
            <label class="form-label">제목</label>
            <input type="text" id="title" class="form=control">
        </div>

        <div class="mb-3">
            <label class="form-label">작성자</label>
            <input type="text" id="name" class="form=control">
        </div>

        <div class="mb-3">
            <label class="form-label">비밀번호</label>
            <input type="password" id="password" class="form=control">
        </div>

        <div class="mb-3">
            <label class="form-label">내용</label>
            <textarea id="content" class="form=control" rows="6" placeholder="내용을 입력하세요"></textarea>
        </div>

        <div class="text-end">
            <button class="btn btn-primary" onclick="doWrite()">작성하기</button>
        </div>
    </div>
    <script>
        const boards = getBoards(); //기존 글 목록 가져오기

        function doWrite() {
            const title = document.getElementById('title').value;
            const name = document.getElementById('name').value;
            const password = document.getElementById('password').value;
            const content = document.getElementById('content').value;

            if(title === ''|| name === ''|| password === ''|| content ==='') {
                alert('모든 항목을 입력해주세요');
                return;
            }

            // 새 글 만들기
            const board = {
                bno: getNewBno(), title, name, password, content
            };

            boards.push(board); //글 목록에 추가
            localStorage.setItem('boards',JSON.stringify(boards)); //쓴 글을 문자열로 바꿔서 boards이름으로 로컬에 저장
            location.href = 'index.html' // 목록 페이지로 이동
        }
    </script>
</body>
</html>